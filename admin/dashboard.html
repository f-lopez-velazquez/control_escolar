<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Control Escolar - Admin</title>
  <link rel="stylesheet" href="../styles.css" />
</head>
<body>
  <header>
    <h2>Panel Administrador - Control Escolar</h2>
    <button id="logoutBtn">Cerrar sesión</button>
  </header>
  <main>
    <section>
      <h3>Materias</h3>
      <form id="materiaForm">
        <input type="text" id="nombreMateria" placeholder="Nombre de la materia" required onfocus="mostrarAyuda('Escribe el nombre de la materia.')" />
        <button type="submit">Agregar Materia</button>
      </form>
      <select id="materiasSelect"></select>
    </section>
    <section>
      <h3>Alumnos</h3>
      <form id="alumnoForm">
        <input type="text" id="numLista" placeholder="Número de lista" required onfocus="mostrarAyuda('Número único de alumno.')" />
        <input type="text" id="nombreCompleto" placeholder="Nombre completo" required onfocus="mostrarAyuda('Nombre del alumno.')" />
        <input type="number" id="numEquipo" placeholder="Equipo (debe existir)" required onfocus="mostrarAyuda('Solo puedes asignar equipos existentes.')" />
        <select id="parcialAsignar">
          <option value="parcial1">Parcial 1</option>
          <option value="parcial2">Parcial 2</option>
          <option value="parcial3">Parcial 3</option>
          <option value="parcial4">Parcial 4</option>
        </select>
        <button type="submit">Agregar/Actualizar Alumno</button>
      </form>
      <div id="ayudaCampo" class="ayuda-campo"></div>
      <select id="filtroEquipo"><option value="">Todos los equipos</option></select>
      <table id="tablaAlumnos">
        <thead>
          <tr>
            <th>Lista</th><th>Nombre</th><th>Equipos (por parcial)</th><th>Acciones</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </section>
    <section>
      <h3>Equipos</h3>
      <form id="equipoForm">
        <input type="number" id="equipoNum" placeholder="Número de equipo" required onfocus="mostrarAyuda('Número del equipo, debe ser único.')" />
        <input type="text" id="encargado" placeholder="Encargado" required onfocus="mostrarAyuda('Nombre del encargado de equipo.')" />
        <button type="submit">Agregar Equipo</button>
      </form>
      <table id="tablaEquipos">
        <thead>
          <tr>
            <th>Equipo</th><th>Encargado</th><th>Tareas</th><th>Acciones</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </section>
    <section>
      <h3>Evaluaciones</h3>
      <form id="evaluacionForm">
        <select id="alumnoEval"></select>
        <select id="parcialEval">
          <option value="parcial1">Parcial 1</option>
          <option value="parcial2">Parcial 2</option>
          <option value="parcial3">Parcial 3</option>
          <option value="parcial4">Parcial 4</option>
        </select>
        <input type="number" id="calificacionEval" placeholder="Calificación (0-10)" min="0" max="10" step="0.1" required />
        <button type="submit">Registrar Calificación</button>
      </form>
      <table id="tablaEvaluaciones">
        <thead>
          <tr>
            <th>Lista</th><th>Nombre</th>
            <th>P1</th><th>P2</th><th>P3</th><th>P4</th>
            <th>Final</th><th>Deducciones</th><th>Extras</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
      <button class="btn-pdf" id="btnPdf">Exportar PDF (A4)</button>
    </section>
    <section>
      <h3>Deducciones y puntos extra</h3>
      <form id="formDeduccion">
        <select id="alumnoDeduccion"></select>
        <select id="parcialDeduccion">
          <option value="parcial1">Parcial 1</option>
          <option value="parcial2">Parcial 2</option>
          <option value="parcial3">Parcial 3</option>
          <option value="parcial4">Parcial 4</option>
        </select>
        <input type="number" id="cantidadDeduccion" placeholder="Cantidad (+ o -)" required />
        <input type="text" id="motivoDeduccion" placeholder="Motivo" required />
        <select id="tipoDeduccion">
          <option value="deduccion">Deducción (resta)</option>
          <option value="extra">Punto extra (suma)</option>
        </select>
        <button type="submit">Agregar registro</button>
      </form>
    </section>
  </main>
  <script>
  function mostrarAyuda(msg) {
    document.getElementById("ayudaCampo").innerText = msg;
  }
  </script>
  <script type="module" src="dashboard.js"></script>
</body>
</html>
